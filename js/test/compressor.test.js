import { describe, expect, it } from "vitest"
import { compress } from "../src/compressor"

describe("compressor", () => {
  describe("compress test", () => {
    it("compress success", async () => {
      const r = await compress("123456")
      expect(r.compressedData).to.eq("0x42123456")
    })
    it("compress long bytes", async () => {
      const r = await compress("8f2b7a67000000000000000000000000a19a81a38bf2238a695629fa7b4a909a2390ddb40000000000000000000000000000000000000000000000000000000000000000000000000000000000000000052fea3caafaaf3f95ec536b30714bff78dbac5b000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000014000000000000000000000000000000000000000000000000013247aacf600000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000d500b1d8e8ef31e21c99d1db9a6444d3adf1270000000000000000000000000c17b109e146934d36c33e55fade9cbda791b03660000000000000000000000000000000000000000000000000000000000000002000000000000000000000000c17b109e146934d36c33e55fade9cbda791b03660000000000000000000000000d500b1d8e8ef31e21c99d1db9a6444d3adf1270")
      expect(r.compressedData).to.eq("0x438f2b7a6773a19a81a38bf2238a695629fa7b4a909a2390ddb4002a53052fea3caafaaf3f95ec536b30714bff78dbac5b006101001d40e00062014000164413247aacf602600200740d500b1d8e8ef31e21c99d1db9a6444d3adf1270000a53c17b109e146934d36c33e55fade9cbda791b0366006102000075c17b109e146934d36c33e55fade9cbda791b0366000009530d500b1d8e8ef31e21c99d1db9a6444d3adf1270")
    })
  }) 
})
